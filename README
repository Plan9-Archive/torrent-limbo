# status

in development.  don't expect things to work yet.


# intro

this package contains a bittorrent peer (for downloading and uploading
files), tools for verifying torrents & printing information about
torrents, a bittorrent tracker for use with a http server, and a
program for creating torrent files.


# install

this package depends on "http" and "web".

to install, bind/symlink/include a mkconfig (e.g. from your inferno
install), and:

	mk install

when building from within inferno, insert SYSHOST=Inferno and ROOT=
in the mk invocations to override the values in the mkconfig.


# latest

the latest version can be found at

    http://www.ueber.net/code/r/torrent


# licence & author

all files are in the public domain.  this code has been written by
mechiel lukkien, reachable at mechiel@ueber.net or mechiel@xs4all.nl.


# todo

- torrent/track: make search for a peer (given ip & port) less inefficient.

- torrent/get: seems verifying (or .state-file reading) doesn't work properly, we refetch the file.
- put more in progress/peerevents, such as errors (eg from tracker, when writing to disk).
- explain the design better
- some tk ui to show activity & progress
- perhaps put the code for each thread in a separate file.  should help to reduce accidental global variable use & associated obscure bugs.
- torrent/get: allow starting after being stopped.  implement start ctl.
- torrent/get: move styx code to separate file?
- collapse some code from appl/lib/bittorrent/*?
- use multiple peers
- implement rarest first and random
- keep track of which peer has which piece
- handle choke/unchoke correctly, send interested only when peer has data
- torrent/track: might add scraping.
- torrent/track: might be a bit smarter about which peers to send to a peer.  e.g. not itself, make randomizing cheaper, let peers that are done (left=0) not connect to each other.
- write manual page
